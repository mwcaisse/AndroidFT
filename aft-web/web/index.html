<html>
	<head>
		<meta charset="utf-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
	
		<title>Android File Transfer</title>
		
		<!--  scripts -->	
		
		<!-- Prod Scripts -->	
		<!-- 
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/knockout/3.1.0/knockout-min.js"></script>
		-->
		
		<!-- Dev Scripts -->
		<script src="js/jquery-2.1.1.js"></script>
		<script src="js/knockout-3.1.0.debug.js"></script>
		<script src="js/jquery.form.js"></script>
		
		<!-- View and View Model scripts -->
		<script src="js/common.js"></script>
		<script src="js/models.js"></script>
		<script src="js/viewmodels.js"></script>
		<script src="js/app.js"></script>
		
		<script src="js/bootstrap.js"></script>
		
		<!-- css -->
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<link href="css/style.css" rel="stylesheet">
		
	</head>
	
	<body>	

	 
		<div id="deviceListDiv" class="padded"> <!-- Device List Div -->
		
			<h3>Devices</h3>
		
			<div class=table-responsive>		
				<table class="table table-striped table-bordered">				
					<thead>					
						<tr>
							<th>ID</th>
							<th>UID</th>
							<th>Name</th>
							<th>Registration ID</th>						
						</tr>					
					</thead>					
					<tbody data-bind="foreach: devices">						
						<tr>						
							<td data-bind="text: deviceId"></td>
							<td data-bind="text: deviceUid"></td>
							<td data-bind="text: deviceName"></td>
							<td data-bind="text: deviceRegistrationId"></td>
						</tr>						
					</tbody>				
				</table>
			</div>
		</div> <!-- End Device List Div -->		
		
		<div id="requestListDiv" class="padded"> <!-- Request List Div -->
		
			<h3>Requests</h3>
		
			<div class="table-responsive">
				<table class="table table-striped table-bordered table-hover">			
					<thead>					
						<tr>
							<th>ID</th>
							<th>Name</th>
							<th>Device Name</th>
							<th>File Location</th>
							<th>File Name</th>
							<th>Directory</th>
							<th>Status</th>
							<th>Status Message</th>
							<th>Updated</th>					
						</tr>				
					</thead>				
					<tbody data-bind="foreach: requests">					
						<tr data-bind="click: $parent.viewRequest">
							<td data-bind="text: requestId"></td>
							<td data-bind="text: requestName"></td>
							<td data-bind="text: requestDevice().deviceName()"></td>
							<td data-bind="text: requestFileLocation"></td>
							<td data-bind="text: requestFile().fileName()"></td>
							<td data-bind="text: requestDirectory"></td>
							<td data-bind="text: requestStatus"></td>
							<td data-bind="text: requestStatusMessage"></td>
							<td data-bind="text: requestUpdatedString"></td>			
						</tr>					
					</tbody>			
				</table>
			</div>
		
		
		</div> <!-- End Request List Div -->
		
		<div id="modifyRequestDiv" class="padded" data-bind="if: request"> <!-- ModifyRequest Div -->
		
			<h3>Request View</h3>
			
			
			<table data-bind="with: request">
			
				<tbody data-bind="if: $parent.isModifiable()">
					<tr>
					<td>Name</td><td><input data-bind="value: requestName"></input></td>
					</tr>
					<tr>
					<td>Device</td><td><select data-bind="options:$parent.devices, optionsText: 'deviceName' ,value: requestDevice"></select></td>
					</tr>					
					<tr>
					<td>File Location</td><td><input data-bind="value: requestFileLocation"></input></td>
					</tr><tr>
					<td>File Name</td><td data-bind="text: requestFile().fileName"></td>
					</tr><tr>
					<td>Base Directory</td><td><select data-bind="options: $parent.requestDirectoryOptions, value: requestDirectory"></select></td>
					</tr><tr>
					<td>Status</td><td data-bind="text: requestStatus"></td>
					</tr><tr>
					<td>Status Message</td><td data-bind="text: requestStatusMessage"></td>
					</tr><tr>
					<td>Updated</td><td data-bind="text: requestUpdatedString"></td>
					</tr>
					
					<tr>
					<td><button class="btn btn-default" data-bind="click: $parent.cancel">Cancel</button></td><td><button class="btn btn-default" data-bind="click: $parent.save">Save</button></td>
					</tr>
					
				</tbody>
				
				<tbody data-bind="ifnot: $parent.isModifiable()">
					<tr>
					<td>Name</td><td><input data-bind="value: requestName"></input></td>
					</tr>
					<tr>
					<td>Device</td><td data-bind="text: requestDevice().deviceName"></td>
					</tr>					
					<tr>
					<td>File Location</td><td data-bind="text: requestFileLocation"></td>
					</tr><tr>
					<td>File Name</td><td data-bind="text: requestFile().fileName"></td>
					</tr><tr>
					<td>Base Directory</td><td data-bind="text: requestDirectory"></td>
					</tr><tr>
					<td>Status</td><td data-bind="text: requestStatus"></td>
					</tr><tr>
					<td>Status Message</td><td data-bind="text: requestStatusMessage"></td>
					</tr><tr>
					<td>Updated</td><td data-bind="text: requestUpdatedString"></td>
					</tr>
					
					<tr>
					<td><button class="btn btn-default" data-bind="click: $parent.cancel">Cancel</button></td><td><button class="btn btn-default" data-bind="click: $parent.save">Save</button></td>
					</tr>
					
				</tbody>
			
			</table>
		
		</div> <!-- End ModifyRequest Div -->
		
		<div id="createRequestDiv" class="padded"> <!-- CreateRequest Div -->
		
			<h3>Create Request</h3>
			
			<h4>File Upload</h4> 
			
			<div id="divFormUpload">
			
				<form id="fileUploadForm" action="http://localhost:8080/aft-servlet/manager/file/formUpload"
						method="POST" enctype="multipart/form-data">
					File Name: <input type="text" name="fileName" data-bind="text: request().requestFile().fileName">
					<br/><input type="file" name="file">	
					<input class="btn btn-danger" type="submit" value="Upload">
						
				</form>
				
				<div id="fileUploadProgress">
					<div id="bar"></div>
					<div id="percent">0%</div>
				</div>			
			</div>
			
			<table data-bind="with: request, visible: fileUploaded">
			
				<tbody>
					<tr>
					<td>Name</td><td><input data-bind="value: requestName"></input></td>
					</tr>
					<tr>
					<td>Device</td><td><select data-bind="options:$parent.devices, optionsText: 'deviceName' ,value: requestDevice"></select></td>
					</tr>					
					<tr>
					<td>File Location</td><td><input data-bind="value: requestFileLocation"></input></td>
					</tr><tr>
					<td>File Name</td><td data-bind="text: requestFile().fileName"></td>
					</tr><tr>
					<td>Base Directory</td><td><select data-bind="options: $parent.requestDirectoryOptions, value: requestDirectory"></select></td>
					</tr><tr>
					<td>Status</td><td data-bind="text: requestStatus"></td>
					</tr><tr>
					<td>Status Message</td><td data-bind="text: requestStatusMessage"></td>
					</tr><tr>
					<td>Updated</td><td data-bind="text: requestUpdatedString"></td>
					</tr>
					
					<tr>
					<td><button class="btn btn-default" data-bind="click: $parent.cancel">Cancel</button></td><td><button class="btn btn-default" data-bind="click: $parent.create">Create</button></td>
					</tr>
					
				</tbody>
			</table>
		</div> <!-- End CreateRequest Div -->

	</body>
</html>